[TOC]

# 推荐系统算法XMind

参考
[推荐系统算法初探](https://mp.weixin.qq.com/s/d1WCSAAi9Avax9OejZO94g)

## 基于流行度的算法

### 原理

- 根据pv、uv、分享率等数据按热度排序推荐

### 优点

- 特别简单
- 适合新用户

### 缺点

- 无法针对用户提供个性化推荐

## 协同过滤算法 CF

### 优点

- 简单
- 准确

### 缺点

- 依赖于准确的用户评分
- 大热的物品有更大几率推荐给用户
- 冷启动问题：新用户或新物品进入系统时，推荐将无从依据
- 矩阵稀疏：在一些item生存周期短（如新闻、广告）的系统中，由于更新速度快，大量item不会有用户评分，造成评分矩阵稀疏，不利于这些内容的推荐

改进矩阵稀疏的问题：通过矩阵因子分解（如LFM），我们可以把一个nm的矩阵分解为一个nk的矩阵乘以一个k*m的矩阵，k可以是用户的特征、兴趣爱好与物品属性的一些联系，通过因子分解，可以找到用户和物品之间的一些潜在关联，从而填补之前矩阵中的缺失值。

### 分类

- user-based CF

  基于用户的CF

  - 分析各个用户对item的评价（通过浏览记录、购买记录等）
  - 根据用户对item的评价计算得出所有用户之间的相似度
  - 选出与当前用户最相似的N个用户
  - 将这N个用户评价最高且当前用户又没有浏览过的item推荐给当前用户

- item-based CF

  基于物品的CF

  - 分析各个用户对item的浏览记录
  - 根据浏览记录分析得出所有item之间的相似度
  - 对于当前用户评价高的item，找出与之相似度最高的N个item
  - 将这N个item推荐给用户

## 基于内容的算法

假如我是个《指环王》的忠实读者，我买过一本《双塔奇兵》，这时库里新进了第三部：《王者归来》，那么显然我会很感兴趣。然而基于之前的算法，无论是用户评分还是书名的检索都不太好使，于是基于内容的推荐算法呼之欲出。

### 原理

- 分析用户行为和新闻文本，提取关键字
- 关键字作为属性，用户和新闻分解为向量，再计算向量距离，得出用户和新闻的相似度
- 相似度加入权重的影响，更精确

sim(user, item) = 文本相似度(user, item) * 词权

- 话题聚类：如果用户感兴趣的是足球，而新闻的关键词是德甲、英超，需要用到话题聚类

利用word2vec工具，可以将文本的关键词聚类，根据topic将文本向量化，如可以将德甲、英超、西甲聚类到“足球”的topic下，将lv、Gucci聚类到“奢侈品”topic下，再根据topic为文本内容与用户作相似度计算。

### 优点

- 解决冷启动
- 不会限制于热度

### 缺点

- 过度专业化：一直推荐给用户内容密切关联的item，失去推荐内容的多样性

## 混合算法

通过给多种不同算法的结果加权来综合结果，或者在不同的环节使用不同的算法来混合

## 基于模型的算法

机器学习

### Logistics回归预测

分析大量用户特征、行为和购买记录，拟合函数，计算出用户各特征属性对应物品属性的权重，权重值越大则表明该属性对于用户选择商品越重要。

在拟合函数的时候我们会想到，单一的某种属性和另一种属性可能并不存在强关联。比如，年龄与购买护肤品这个行为并不呈强关联，性别与购买护肤品也不强关联，但当我们把年龄与性别综合在一起考虑时，它们便和购买行为产生了强关联。比如，20~30岁的女性用户更倾向于购买护肤品，这就叫交叉属性。通过反复测试和经验，我们可以调整特征属性的组合，拟合出最准确的回归函数。

- 优点

  - 适合实时性较高的业务如新闻、广告

- 缺点

  - 要达到更好的效果需要人工干预反复进行属性的组合和筛选
  - 由于新闻的时效性，系统也需要反复更新线上的数学模型

## 结果、评估

### 结果处理

- 筛除敏感词汇、设计用户隐私的内容
- 推荐几次后用户依然对某个item没有兴趣则降低它的权重，调整排序
- 考虑话题多样性的问题，要在不同话题中筛选内容

### 评估

- CTR点击量
- CVR转化率
- 停留时间
- 通过线下计算算法的RMSE（均方根误差）或者线上进行ABTest来对比效果

### 改进

- 增加用户画像

  - 获取其他平台的用户数据，解决冷启动
  - 丰富人口属性：年龄、职业、地域
  - 完善用户兴趣，方便生成用户标签和匹配内容

*XMind: ZEN - Trial Version*