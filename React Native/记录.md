[TOC]

# 直接使用文件名引用文件，而不使用路径引用
在该文件开头加入

```javascript
/**
 * @providesModulePromptLabel
 */
 class MyClass {
 }
```
引用
```javascript
import MyClass from 'MyClass' 
```

# ListView瀑布流

```
contentContainerStyle={styles.listView}
listView:{
flexDirection:'row',
flexWrap:'wrap',
},

```
row可能需要设置确定的高度

如果出现renderRow执行的次数比dataSource的数量少的情况，  
需要设置:  
`initialListSize={20} // 可以把值改为dataSource的length`  
如果不设置,renderRow只能执行前几条数据, 想显示其他数据, 只能通过改变任意state来实现


# 下拉图片放大

先举个例子，你可能希望你的Animated.Value从0变化到1时，把组件的位置从150px移动到0px，不透明度从0到1。可以通过以下的方法修改style属性来实现：

```javascript
 style={{
   opacity: this.state.fadeAnim, // Binds directly
   transform: [{
     translateY: this.state.fadeAnim.interpolate({
       inputRange: [0, 1],
       outputRange: [150, 0]  // 0 : 150, 0.5 : 75, 1 : 0
     }),
   }],
 }}>
```

```javascript
'use strict';

import React from 'react'
import ReactNative, {
  View,
  ListView,
  StyleSheet,
  TouchableOpacity,
  Image,
  Text,
  Dimensions,
  Animated
} from 'react-native'

const resValue = require('../css/resValue');
import * as globalStyles from '../css/globalStyles';
import images from '../image/images'
import * as UserService from '../proxy/UserService'
import LoadingView from './LoadingView'
import NormalTitleRow from './NormalTitleRow'
import CertificateView from './CertificateView'

const IMG_HEIGHT = 300 / 2 + 10

export default class MentorInfoHeaderView extends React.Component {
  
  constructor(props) {
    super(props);
    
    this.state = {
    yOffset: 0,
      
    anim: new Animated.Value(0)
    }
  }
  
  render() {
    const { yOffset } = this.props
    
    if (yOffset < 0) {
      var imgScale = (-yOffset + IMG_HEIGHT) / IMG_HEIGHT
      var scale = this.state.anim.interpolate({
      inputRange: [-1, 0],
      outputRange: [0, imgScale],
      extrapolate: 'clamp',
      })
      
      var y = (-yOffset / 2) / imgScale
      var translateY = this.state.anim.interpolate({
      inputRange: [-1, 0],
      outputRange: [0, y],
      extrapolate: 'clamp',
      })
    } else {
      var scale = this.state.anim.interpolate({
      inputRange: [-1, 0],
      outputRange: [0, 1],
      extrapolate: 'clamp',
      })
      var translateY = this.state.anim.interpolate({
      inputRange: [-1, 0],
      outputRange: [0, -yOffset],
      extrapolate: 'clamp',
      })
    }
    
    return (
    	<Animated.Image
    		source={images.Myinfo.HEAD_BACKGROUND_STAR}
    		style={[
    			styles.backgroundImage, 
    			this.props.style, 
    			{transform: [{scale}, {translateY}]}
    		]}
    	/>
     )
  }
}

var styles = StyleSheet.create({
	backgroundImage: {
		height: IMG_HEIGHT,
	},
})
```

# 得到text的高度

```javascript
<Text onLayout={(event)=>this._textOnLayout(event)} />

_textOnLayout(event){
	console.log(event.nativeEvent.layout.height,'onLayout');
}
```

# ListView从下向上排列

```javascript
<ListView contentContainerStyle={styles.listViewContent}/>
listViewContent:{
	flex:1,
	//从下向上排列
	justifyContent:'flex-end'
}
```

# 得到组件宽高

```javascript
this.refs.row.measure(function(ox,oy,width,height,px,py){
	cellHeight=height;
});

<View style={styles.row}ref="row"/>

row:{
	flex:1,
	backgroundColor:'#FFFFFF',
	borderTopWidth:1/2,
	borderBottomWidth:1/2,
	borderColor:'#dddddd',
	marginTop:10/2,
	marginBottom:10/2
},
```

# 指定某个组件

```javascript
var _listView: ListView;
<ListView ref={(listView)=>{_listView=listView;}}/>
```


