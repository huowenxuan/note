5-15

1. 优化添加推荐数据，按数量比例合并列表
2. 学习numpy按多列排序，用户操作过的帖子以分值和帖子序号排序，保证新的帖子越容易被推荐、给用户推荐时也按照新帖子的行为为主
3. 当没有推荐内容、自定义标签、热门时，随机返回所有历史推荐中的n个
4. 计划计算服务的监控、日志，尝试接入openamp，无反应，放弃

5-14

1. 上午，解决flask通过浏览器访问卡死的问题
2. 下午，优化推荐列表查询查看历史效率，将几个推荐列表组合，按元素个数平均分布，减少数据库请求次数
3. 规划内容推荐考虑热度、协同过滤考虑post新旧
4. 3点后开会

5-13

1. 没有任何推荐数据的新用户返回3个排行榜内容
2. 优化推荐结果的选取，保证无重复，且分布相似
3. 数据库增加千万条数据，设置索引，测试推荐速度，数据量增大速度不变
4. 推荐结果返回真实post信息，私密post删掉
5. 推荐结果网页版和美化，通过手机号查询用户；标明推荐类型、数量；热门、自定义标签推荐id造假
6. 测试多个设备/ip连接flask，workers设置很少时，会出现非本机请求卡住的问题，需要改为egg实现

5-12

1. 上午困
2. 搭建完成的的egg推荐api服务，完成推荐的api，把推荐过的内容从推荐列表中删除、顺序打乱
3. 发现egg的mongoose比pymongo查询总时间慢接近0.1毫秒，放弃egg，继续使用flask，api改为最新逻辑

5-11

1. 推荐api逻辑算法完成
2. 搭建简单的用于计算的服务和用来展示的结果网页
3. gunicorn 支持多进程

5-9

1. 多个过滤器组合实现过期布隆过滤器
2. 解决类中多线程慢的问题
3. 封装数据中心类，包含所有矩阵、布隆过滤器等
4. 实时计算后保存矩阵
5. 推荐结果保存为postid代替postindex
6. 规划推荐API

5-8

1. 已经有动作的物品不放在推荐列表
2. 协同过滤封装为类
3. 协同过滤推荐结果保存到数据库
4. 协同过滤推荐结果支持根据多个动作生成推荐数据
5. 完成更新推荐结果的逻辑：每次计算出新的结果，加入到旧的结果中，相同的替换分值，排序取前一万
6. 规划去重策略

5-7

1. 优化基于内容的推荐、两种协同过滤，支持新的数据库结构
2. 两种协同过滤根据单个动作实时生成推荐数据

5-6

1. 完成用户标签的同步，标签权重和新的累加排序取前100，用户新增序号字段，同时保存在行为表中
2. 边同步边建立标签库，取分值前十万的标签；新增初始化标签库
3. 整理代码，统一id格式，加速计算，处理id为空的数据
4. 同步成功后每隔n秒同步一次
5. 重新规划全部任务，标签库离线计算策略