6.17

1. 推荐API格式化url、封面图、热门列表增加帖子信息
2. 阅读消息队列架构文章
3. html练习

6.12

1. 发现监控程序意外出错，是docker-py获取container列表时出错。将APIClient改为DockerClient，优化查找container过程，增加try catch，出错马上重试
2. 监控程序nohup没有实时写入log，增加-u参数实时写入

6.11

发现随着推荐计算随着运行时间的增加，内存一直在增长，增长较快，8G内存的机器，一小时增长大约8%，重启应用后内存恢复到很低的状态，怀疑内存泄露

1. 使用了一些内存检测工具都没有好的效果
2. 通过注释代码的方式定位到协同过滤计算
3. 协同过滤只有几步：1）矩阵扩容。2）将行为添加到矩阵中。3）开辟多线程，在多线程中执行以下。4）计算推荐。5）更新推荐
4. 依次对以上几步注释测试。发现2）3）5）步基本没有内存增长。第4）步增长不明显。第1）步有少量持续的增长，但是第1）步只是正常的数据增长，不可能让内存增长那么多
5. 发现bug，将矩阵都保存在docker中，容器重启数据消失，所以将数据映射到宿主机
6. 暂时找不到内存增加的原因，写了一个python监控程序放在另外一个容器中（使用docker python包），计算服务每计算10次都停止运行，监控程序每隔5秒检测计算服务的容器是否在运行，未运行就启动
7. 内存正常

6.10 

1. 修复推荐计算清理任务的递归无限循环错误
2. 推荐计算使用docker
3. 推荐计算日志为nohup.年月日.时分秒.out
4. 监控cpu、内存，发现内存一直在上升，应该是有内存泄露，但是未找到泄露地点
5. 学习react

6.9

1. 部署推荐计算 + api + 数据库 + docker
2. 数据库增加索引
3. 区分环境指向不同的数据库
4. 每晚动作递归删除
5. 学习react

6.8

1. 完成推荐关注用户计算、api
2. 同步人工推荐数据，推荐时加入
3. 推荐数据缓存，增加曝光id
4. 清理日志等
5. 区分数据库
6. 学习react