# 代码整洁之道

## 第1章 整洁代码

## 第2章 有意义的命名

- 名副其实：变量、函数、类的名称该告诉你它做什么事，应该怎么用，如果名称需要注释，就不算是名副其实

- 别用accountList来值指称一组账号，除非真的是List类，否则会引起错误的判断，命名为accountGroup或bunchOfAccounts，甚至accounts都会好一些

- 做有意义的区分：info和data就像a、an、the一样，是意义含混的废话

- 成员前缀：不必使用m前缀来标明成员变量，应当把类和函数做的足够小，消除对成员前缀的需要

- 类名和对象名应该是名词或者名词短语，Customer、WikiPage、Account、AddressParser。避免使用Manager、Processor、Data、Info这样的类名（意义含糊的废话）。类名不应当是动词

- 方法名应当是动词或动词短语。postPayment, deletePage, save

- 每个概念对应一个词。例如fetch和get，controller和manager，保持一致

- 别用双关语。例如在连接两个值时使用了add，把单个值放在collection中就应该使用insert或append，不应该为了保持一致使用add

## 第3章 函数

- 短小。函数的第一规则是要短小，第二条规则是**还要更短小**。函数不应该有100行那么长，20行封顶最佳

- 只做一件事，每个函数一个抽象层级。如果该函数只是做了该函数名下同一抽象层上的步骤，则函数就是只做了一件事。可以将if语句拆出来，但只是重新诠释代码，并未改变抽象层级。所以，要判断函是否不止做了一件事，可以看是否能再拆出一个函数，该函数不仅只是单纯地重新诠释其实现
    - 向下规则：自顶向下读代码，让每个函数后面都跟着位于下一抽象层级的函数

- 使用描述性的名称
    - 函数功能越小、功能越集中，越便于取一个好名字
    - 别害怕长名称，长而具有描述性的名称，比短而令人费解的名称更好，比描述性的长注释好
    - 别害怕花时间取名称，使用IDE测试不同名称，直至取到最具有描述性的名称
    - 命名方式保持一致
    
- 函数参数。最理想的参数类型是0，其次是1，再其次是2，应尽量避免3
    - 不应该用布尔值作为参数（骇人听闻🐶），函数做了两件事，应该拆成两个函数
    
- 无副作用

- 抽离try/catch代码块。try/catch丑陋不堪，搞乱了代码结构，将他们抽离成函数，与正常流程分开。错误处理就是一件事。所以处理错误的函数不应该做其他事

## 第4章 注释